import styled, { css } from 'styled-components'
import { sizes } from '../utils/sizes'
import { useRouter } from 'next/router'
const toes = (props) => {
  const triggerSwitchTheme = () => {
    props.switchTheme()
  }
  const router = useRouter()
  const changeLanguage = () => {
    const currentLang = router.asPath.slice(1, 3)
    if (currentLang == 'fr') {
      router.push({pathname: router.asPath.replace('fr', 'en')}, undefined, {scroll: false})
    } else {
      router.push({pathname: router.asPath.replace('en', 'fr')}, undefined, {scroll: false})
    }
  }
  const handleKeyPress = (e, fct) => {
    if (e.key == "Enter") {
      switch (fct) {
        case 'theme':
          triggerSwitchTheme()
          break;
        case 'lang':
          changeLanguage()
          break;
      }
    }
  }
  return (
    <Toes>
      <div className="toe" onClick={triggerSwitchTheme} tabIndex={0} onKeyPress={(e) => handleKeyPress(e, 'theme')}>
        <svg viewBox="0 0 28 26" fill="none" xmlns="http://www.w3.org/2000/svg">
          {props.theme &&
            <g>
              <path d="M14.2739 3.74607C14.2739 3.46824 14.0539 3.24274 13.7816 3.24274C10.9397 3.24274 8.62754 5.60679 8.62754 8.51238C8.62754 8.79021 8.84756 9.01572 9.11984 9.01572C9.39206 9.01572 9.61213 8.79021 9.61213 8.51238C9.61213 6.16195 11.4828 4.24935 13.7817 4.24935C14.0539 4.24935 14.2739 4.0244 14.2739 3.74607Z" fill="white" />
              <path d="M6.55903 8.51238C6.55903 10.2397 7.10498 11.873 8.13821 13.2355C8.14311 13.242 8.14856 13.2485 8.15395 13.2551C10.3086 16.3132 9.77304 17.7678 9.77304 17.7703C9.65786 18.0219 9.7642 18.3214 10.0103 18.4397C10.0778 18.4719 10.1486 18.4875 10.2185 18.487C10.4036 18.487 10.5809 18.3798 10.6645 18.1971C10.7536 18.0038 11.4575 16.2024 8.92677 12.63C8.91544 12.6144 8.90412 12.5993 8.89134 12.5852C8.0097 11.4074 7.54399 10.0002 7.54399 8.51189C7.54399 4.81355 10.4873 1.8048 14.104 1.8048C17.7207 1.8048 20.6641 4.81355 20.6641 8.51189C20.6641 10.0042 20.1955 11.417 19.3 12.6078C16.7678 16.1828 17.5003 18.0048 17.5919 18.2011C17.7075 18.4472 17.9916 18.5479 18.2348 18.4366C18.478 18.3254 18.5882 18.0295 18.4853 17.7778C18.4794 17.7632 17.9152 16.2795 20.0891 13.2098C21.1091 11.8528 21.6486 10.2286 21.6486 8.51238C21.6486 4.25888 18.2643 0.798621 14.104 0.798621C9.94383 0.798621 6.55903 4.25944 6.55903 8.51238Z" fill="white" />
              <path d="M18.4976 20.4247V19.9969C18.4976 19.315 17.9546 18.7603 17.2881 18.7603H10.6543C9.98725 18.7603 9.44474 19.315 9.44474 19.9969V20.4247C9.44474 21.1062 9.98725 21.6614 10.6543 21.6614H17.2886C17.9552 21.6614 18.4976 21.1067 18.4976 20.4247ZM10.4293 20.4247V19.9969C10.4293 19.8701 10.5302 19.7669 10.6543 19.7669H17.2886C17.4127 19.7669 17.5136 19.8701 17.5136 19.9969V20.4247C17.5136 20.5515 17.4127 20.6548 17.2886 20.6548H10.6543C10.5302 20.6548 10.4293 20.5516 10.4293 20.4247Z" fill="white" />
              <path d="M11.4512 22.4264C11.179 22.4264 10.9589 22.6519 10.9589 22.9298V24.259C10.9589 24.4563 11.0716 24.635 11.2469 24.717L13.8998 25.9547C13.9648 25.9849 14.0342 26 14.104 26C14.1759 26 14.2478 25.9839 14.3142 25.9517L16.9745 24.6683C17.1468 24.5852 17.2566 24.4081 17.2566 24.2133V22.9303C17.2566 22.6525 17.0366 22.427 16.7643 22.427C16.492 22.427 16.272 22.6525 16.272 22.9303V23.8946L14.1006 24.9426L11.9435 23.9359V22.9303C11.9435 22.6514 11.7235 22.4264 11.4512 22.4264Z" fill="white" />
            </g>
          }
          {!props.theme &&
            <g>
              <path d="M14.2739 3.74607C14.2739 3.46824 14.0539 3.24274 13.7816 3.24274C10.9397 3.24274 8.62754 5.60679 8.62754 8.51238C8.62754 8.79021 8.84756 9.01572 9.11984 9.01572C9.39206 9.01572 9.61213 8.79021 9.61213 8.51238C9.61213 6.16195 11.4828 4.24935 13.7817 4.24935C14.0539 4.24935 14.2739 4.0244 14.2739 3.74607Z" fill="#010002" />
              <path d="M6.55903 8.51238C6.55903 10.2397 7.10498 11.873 8.13821 13.2355C8.14311 13.242 8.14856 13.2485 8.15395 13.2551C10.3086 16.3132 9.77304 17.7678 9.77304 17.7703C9.65786 18.0219 9.7642 18.3214 10.0103 18.4397C10.0778 18.4719 10.1486 18.4875 10.2185 18.487C10.4036 18.487 10.5809 18.3798 10.6645 18.1971C10.7536 18.0038 11.4575 16.2024 8.92677 12.63C8.91544 12.6144 8.90412 12.5993 8.89134 12.5852C8.0097 11.4074 7.54399 10.0002 7.54399 8.51189C7.54399 4.81355 10.4873 1.8048 14.104 1.8048C17.7207 1.8048 20.6641 4.81355 20.6641 8.51189C20.6641 10.0042 20.1955 11.417 19.3 12.6078C16.7678 16.1828 17.5003 18.0048 17.5919 18.2011C17.7075 18.4472 17.9916 18.5479 18.2348 18.4366C18.478 18.3254 18.5882 18.0295 18.4853 17.7778C18.4794 17.7632 17.9152 16.2795 20.0891 13.2098C21.1091 11.8528 21.6486 10.2286 21.6486 8.51238C21.6486 4.25888 18.2643 0.798621 14.104 0.798621C9.94383 0.798621 6.55903 4.25944 6.55903 8.51238Z" fill="#010002" />
              <path d="M18.4976 20.4247V19.9969C18.4976 19.315 17.9546 18.7603 17.2881 18.7603H10.6543C9.98725 18.7603 9.44474 19.315 9.44474 19.9969V20.4247C9.44474 21.1062 9.98725 21.6614 10.6543 21.6614H17.2886C17.9552 21.6614 18.4976 21.1067 18.4976 20.4247ZM10.4293 20.4247V19.9969C10.4293 19.8701 10.5302 19.7669 10.6543 19.7669H17.2886C17.4127 19.7669 17.5136 19.8701 17.5136 19.9969V20.4247C17.5136 20.5515 17.4127 20.6548 17.2886 20.6548H10.6543C10.5302 20.6548 10.4293 20.5516 10.4293 20.4247Z" fill="#010002" />
              <path d="M11.4512 22.4264C11.179 22.4264 10.9589 22.6519 10.9589 22.9298V24.259C10.9589 24.4563 11.0716 24.635 11.2469 24.717L13.8998 25.9547C13.9648 25.9849 14.0342 26 14.104 26C14.1759 26 14.2478 25.9839 14.3142 25.9517L16.9745 24.6683C17.1468 24.5852 17.2566 24.4081 17.2566 24.2133V22.9303C17.2566 22.6525 17.0366 22.427 16.7643 22.427C16.492 22.427 16.272 22.6525 16.272 22.9303V23.8946L14.1006 24.9426L11.9435 23.9359V22.9303C11.9435 22.6514 11.7235 22.4264 11.4512 22.4264Z" fill="#010002" />
              <path d="M25.5725 17.6072C25.734 17.3838 25.6872 17.0687 25.4687 16.9036L22.1291 14.386C21.9101 14.221 21.6024 14.2683 21.4409 14.4922C21.2795 14.7157 21.3262 15.0308 21.5448 15.1959L24.8843 17.7134C24.9724 17.7799 25.0749 17.8116 25.1762 17.8116C25.3269 17.8121 25.4761 17.7411 25.5725 17.6072Z" fill="#010002" />
              <path d="M6.0052 3.48279C6.09332 3.54923 6.19572 3.58093 6.2971 3.58093C6.4482 3.58093 6.59688 3.50998 6.6939 3.37611C6.85535 3.15264 6.8086 2.83754 6.59003 2.67246L3.17514 0.0985068C2.95657 -0.0670636 2.64838 -0.0187672 2.48693 0.204697C2.32547 0.428657 2.37174 0.743761 2.59079 0.908836L6.0052 3.48279Z" fill="#010002" />
              <path d="M6.1603 14.2129L2.59133 16.9035C2.37277 17.0686 2.32602 17.3837 2.48747 17.6072C2.58394 17.741 2.7331 17.812 2.88426 17.812C2.98564 17.812 3.08805 17.7803 3.17617 17.7139L6.74513 15.0232C6.96369 14.8581 7.01045 14.543 6.84899 14.3195C6.68651 14.0956 6.37886 14.0483 6.1603 14.2129Z" fill="#010002" />
              <path d="M21.6905 2.5064C21.4719 2.67147 21.4252 2.98658 21.5866 3.21004C21.6831 3.34391 21.8323 3.41487 21.9834 3.41487C22.0848 3.41487 22.1872 3.38267 22.2753 3.31673L25.4697 0.908898C25.6882 0.743823 25.735 0.428719 25.5735 0.205254C25.4121 -0.0182099 25.1043 -0.0665064 24.8853 0.099064L21.6905 2.5064Z" fill="#010002" />
              <path d="M27.5077 8.40316H23.7423C23.4701 8.40316 23.25 8.62866 23.25 8.90649C23.25 9.18432 23.4701 9.40983 23.7423 9.40983H27.5077C27.7799 9.40983 28 9.18432 28 8.90649C28 8.62866 27.7799 8.40316 27.5077 8.40316Z" fill="#010002" />
              <path d="M4.87005 8.90649C4.87005 8.62866 4.65003 8.40316 4.37775 8.40316H0.492298C0.220078 8.40316 0 8.62866 0 8.90649C0 9.18432 0.220017 9.40983 0.492298 9.40983H4.37781C4.64949 9.40977 4.87005 9.18432 4.87005 8.90649Z" fill="#010002" />
            </g>
          }
        </svg>
      </div>
      <div className="toe spaceS" onClick={changeLanguage} tabIndex={0} onKeyPress={(e) => handleKeyPress(e, 'lang')}>
        <svg viewBox="0 0 33 21" fill="none" xmlns="http://www.w3.org/2000/svg">
          {router.asPath.slice(1, 3) == 'en' ?
            <g>
              <path d="M0 21H4.38011V12.3252H12.8065V8.66455H4.38011V3.66065H13.7169V0H0V21Z" fill="white" />
              <path d="M16.6631 21H21.0432V13.5557H24.2398L28.1647 21H33L28.5997 12.8379C30.9566 11.8125 32.2616 9.73096 32.2616 6.85986C32.2616 2.68652 29.5404 0 24.8366 0H16.6631V21ZM21.0432 9.9873V3.62988H23.997C26.5259 3.62988 27.7499 4.76807 27.7499 6.85986C27.7499 8.94141 26.5259 9.9873 24.0172 9.9873H21.0432Z" fill="white" />
            </g> :
            <g>
              <path d="M0 21H13.2874V17.3394H4.1571V12.3252H12.5673V8.66455H4.1571V3.66065H13.249V0H0V21Z" fill="white" />
              <path d="M33 0H28.8621V13.207H28.6893L20.2023 0H16.554V21H20.7111V7.78271H20.8551L29.4093 21H33V0Z" fill="white" />
            </g>
          }



        </svg>

      </div>
    </Toes>
  );
}

const Toes = styled.div`
  position:fixed;
  top: 5rem;
  left:0;
  @media${sizes.portrait}{
    top:inherit;
    left:inherit;
    right:0;
    bottom:5rem;
  }
  filter:var(--softShadow);
  z-index:2;
  & .toe{
    position:relative;
    right:0;
    border-radius:0 100vw 100vw 0;
    width:3rem;
    height:2rem;
    background:var(--popBG);
    @media${sizes.portrait}{
      border-radius:100vw 0 0 100vw;
    }
    display:flex;
    justify-content:center;
    align-items:center;
    & svg{
      max-height:70%;
      max-width:1.5rem;
      margin-right:0.25rem;
      @media${sizes.portrait}{
        margin-right:0rem;
        margin-left:0.25rem;
      }
      & path{
        fill: var(--bgColor)
      }
    }
  }
`
export default toes;